{"ast":null,"code":"import _objectSpread from\"D:\\\\Project\\\\stock_watcher_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\Project\\\\stock_watcher_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Project\\\\stock_watcher_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Project\\\\stock_watcher_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Project\\\\stock_watcher_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Project\\\\stock_watcher_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";var AddStockPriceForm=/*#__PURE__*/function(_Component){_inherits(AddStockPriceForm,_Component);function AddStockPriceForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddStockPriceForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddStockPriceForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={addNew:false,addNewIndex:\"\",error:\"\"};_this.showStockIndexForm=function(){_this.setState(_objectSpread({},_this.state,{addNew:true}));};_this.onSelectChange=function(e){_this.setState(_objectSpread({},_this.state,{addNewIndex:e.target.value,error:\"\"}));console.log(e.target.value);};_this.addStockIndexForm=function(e){e.preventDefault();var isExist=false;var addNewIndex=_this.state.addNewIndex;_this.props.watchedStocks.forEach(function(element){if(element.name===_this.state.addNewIndex){isExist=true;_this.setState(_objectSpread({},_this.state,{error:\"Index existed!\"}));}});if(!isExist){if(addNewIndex!==\"\"){_this.setState(_objectSpread({},_this.state,{addNew:false}));_this.props.updateWatchedStocks({name:_this.state.addNewIndex,priceHigh:0,priceLow:0});}}};return _this;}_createClass(AddStockPriceForm,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,this.state.addNew?React.createElement(\"form\",null,React.createElement(\"table\",null,React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"td\",{colSpan:\"2\"},\"Add New Index\"))),React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(\"label\",null,\"Select Index\")),React.createElement(\"td\",null,React.createElement(\"select\",{onChange:this.onSelectChange,value:this.addNewIndex},React.createElement(\"option\",null),Object.keys(this.props.data).map(function(el){return React.createElement(\"option\",{key:el},el);})))))),React.createElement(\"button\",{onClick:this.addStockIndexForm},\"add\"),this.state.error?this.state.error:\"\"):React.createElement(\"button\",{onClick:this.showStockIndexForm},\"add\"));}}]);return AddStockPriceForm;}(Component);export{AddStockPriceForm as default};","map":{"version":3,"sources":["D:/Project/stock_watcher_frontend/src/components/AddStockPriceForm.js"],"names":["React","Component","AddStockPriceForm","state","addNew","addNewIndex","error","showStockIndexForm","setState","onSelectChange","e","target","value","console","log","addStockIndexForm","preventDefault","isExist","props","watchedStocks","forEach","element","name","updateWatchedStocks","priceHigh","priceLow","Object","keys","data","map","el"],"mappings":"muBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEqBC,CAAAA,iB,2aACnBC,K,CAAQ,CACNC,MAAM,CAAE,KADF,CAENC,WAAW,CAAE,EAFP,CAGNC,KAAK,CAAE,EAHD,C,OAMRC,kB,CAAqB,UAAM,CACzB,MAAKC,QAAL,kBAAmB,MAAKL,KAAxB,EAA+BC,MAAM,CAAE,IAAvC,IACD,C,OAEDK,c,CAAiB,SAAAC,CAAC,CAAI,CACpB,MAAKF,QAAL,kBAAmB,MAAKL,KAAxB,EAA+BE,WAAW,CAAEK,CAAC,CAACC,MAAF,CAASC,KAArD,CAA4DN,KAAK,CAAE,EAAnE,IACAO,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACC,MAAF,CAASC,KAArB,EACD,C,OAEDG,iB,CAAoB,SAAAL,CAAC,CAAI,CACvBA,CAAC,CAACM,cAAF,GACA,GAAIC,CAAAA,OAAO,CAAG,KAAd,CAFuB,GAGfZ,CAAAA,WAHe,CAGC,MAAKF,KAHN,CAGfE,WAHe,CAIvB,MAAKa,KAAL,CAAWC,aAAX,CAAyBC,OAAzB,CAAiC,SAAAC,OAAO,CAAI,CAC1C,GAAIA,OAAO,CAACC,IAAR,GAAiB,MAAKnB,KAAL,CAAWE,WAAhC,CAA6C,CAC3CY,OAAO,CAAG,IAAV,CACA,MAAKT,QAAL,kBAAmB,MAAKL,KAAxB,EAA+BG,KAAK,CAAE,gBAAtC,IACD,CACF,CALD,EAMA,GAAI,CAACW,OAAL,CAAc,CACZ,GAAIZ,WAAW,GAAK,EAApB,CAAwB,CACtB,MAAKG,QAAL,kBACK,MAAKL,KADV,EAEEC,MAAM,CAAE,KAFV,IAIA,MAAKc,KAAL,CAAWK,mBAAX,CAA+B,CAC7BD,IAAI,CAAE,MAAKnB,KAAL,CAAWE,WADY,CAE7BmB,SAAS,CAAE,CAFkB,CAG7BC,QAAQ,CAAE,CAHmB,CAA/B,EAKD,CACF,CACF,C,oFAEQ,CACP,MACE,gCACG,KAAKtB,KAAL,CAAWC,MAAX,CACC,gCACE,iCACE,iCACE,8BACE,0BAAI,OAAO,CAAC,GAAZ,kBADF,CADF,CADF,CAME,iCACE,8BACE,8BACE,gDADF,CADF,CAIE,8BACE,8BACE,QAAQ,CAAE,KAAKK,cADjB,CAEE,KAAK,CAAE,KAAKJ,WAFd,EAIE,kCAJF,CAKGqB,MAAM,CAACC,IAAP,CAAY,KAAKT,KAAL,CAAWU,IAAvB,EAA6BC,GAA7B,CAAiC,SAAAC,EAAE,CAAI,CACtC,MAAO,+BAAQ,GAAG,CAAEA,EAAb,EAAkBA,EAAlB,CAAP,CACD,CAFA,CALH,CADF,CAJF,CADF,CANF,CADF,CA0BE,8BAAQ,OAAO,CAAE,KAAKf,iBAAtB,QA1BF,CA2BG,KAAKZ,KAAL,CAAWG,KAAX,CAAmB,KAAKH,KAAL,CAAWG,KAA9B,CAAsC,EA3BzC,CADD,CA+BC,8BAAQ,OAAO,CAAE,KAAKC,kBAAtB,QAhCJ,CADF,CAqCD,C,+BA/E4CN,S,SAA1BC,iB","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nexport default class AddStockPriceForm extends Component {\r\n  state = {\r\n    addNew: false,\r\n    addNewIndex: \"\",\r\n    error: \"\"\r\n  };\r\n\r\n  showStockIndexForm = () => {\r\n    this.setState({ ...this.state, addNew: true });\r\n  };\r\n\r\n  onSelectChange = e => {\r\n    this.setState({ ...this.state, addNewIndex: e.target.value, error: \"\" });\r\n    console.log(e.target.value);\r\n  };\r\n\r\n  addStockIndexForm = e => {\r\n    e.preventDefault();\r\n    var isExist = false;\r\n    const { addNewIndex } = this.state;\r\n    this.props.watchedStocks.forEach(element => {\r\n      if (element.name === this.state.addNewIndex) {\r\n        isExist = true;\r\n        this.setState({ ...this.state, error: \"Index existed!\" });\r\n      }\r\n    });\r\n    if (!isExist) {\r\n      if (addNewIndex !== \"\") {\r\n        this.setState({\r\n          ...this.state,\r\n          addNew: false\r\n        });\r\n        this.props.updateWatchedStocks({\r\n          name: this.state.addNewIndex,\r\n          priceHigh: 0,\r\n          priceLow: 0\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.addNew ? (\r\n          <form>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <td colSpan=\"2\">Add New Index</td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>\r\n                    <label>Select Index</label>\r\n                  </td>\r\n                  <td>\r\n                    <select\r\n                      onChange={this.onSelectChange}\r\n                      value={this.addNewIndex}\r\n                    >\r\n                      <option></option>\r\n                      {Object.keys(this.props.data).map(el => {\r\n                        return <option key={el}>{el}</option>;\r\n                      })}\r\n                    </select>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <button onClick={this.addStockIndexForm}>add</button>\r\n            {this.state.error ? this.state.error : \"\"}\r\n          </form>\r\n        ) : (\r\n          <button onClick={this.showStockIndexForm}>add</button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}