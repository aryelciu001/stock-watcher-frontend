{"version":3,"sources":["components/Utils/Calculator/Calculator.js","components/InformationBox.js","components/Utils/Checker/Validator.js","components/StockPriceForm.js","components/AddStockPriceForm.js","components/WatchBox.js","App.js","index.js"],"names":["calcChange","price","prevClose","Number","replace","toFixed","InformationBox","listOfKeys","Object","keys","this","props","data","id","updated","loading","sort","a","b","map","key","className","Component","isValidPrice","numb","isNaN","isEmpty","el","StockPriceForm","state","name","priceHigh","priceLow","error","submit","e","updateWatchedPrice","setState","preventDefault","onChange","target","value","deleteWatchedStock","colSpan","onClick","placeholder","type","AddStockPriceForm","addNew","addNewIndex","showStockIndexForm","onSelectChange","console","log","addStockIndexForm","isExist","watchedStocks","forEach","element","updateWatchedStocks","WatchBox","url","newStock","updateDatabase","theStock","oldValue","filter","myHeaders","Headers","append","myInit","method","headers","body","JSON","stringify","req","Request","fetch","xhr","XMLHttpRequest","open","send","addEventListener","response","parse","App","endpoint","fetchData","Promise","res","rej","status","responseText","then","catch","setInterval","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1469f840.chunk.js","sourcesContent":["//to calculate the percentage change\r\nexport function calcChange(price, prevClose) {\r\n  return (\r\n    ((Number(price) - Number(prevClose.replace(/,/g, \"\"))) * 100) /\r\n    Number(price)\r\n  ).toFixed(2);\r\n}\r\n\r\n//to show change in color\r\nexport function determineChange(price, prevClose) {\r\n  return calcChange(price, prevClose) > 0\r\n    ? \"pos-change\"\r\n    : calcChange(price, prevClose) < 0\r\n    ? \"neg-change\"\r\n    : \"no-change\";\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"./css/InformationBox.css\";\r\n\r\nimport { calcChange, determineChange } from \"./Utils/Calculator/Calculator\";\r\n\r\nexport default class InformationBox extends Component {\r\n  render() {\r\n    const listOfKeys = Object.keys(this.props.data);\r\n    return (\r\n      <div id=\"information-box\">\r\n        {this.props.updated ? \"updated\" : \"not updated\"}\r\n        {this.props.loading ? (\r\n          \"loading\"\r\n        ) : this.props.data === \"error\" ? (\r\n          \"error\"\r\n        ) : (\r\n          <table id=\"information-box-table\">\r\n            <thead>\r\n              <tr>\r\n                <td>Index</td>\r\n                <td>Price</td>\r\n                <td>Previous Close</td>\r\n                <td>Change</td>\r\n                <td>Change (%)</td>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {listOfKeys\r\n                .sort((a, b) => {\r\n                  return a > b ? 1 : -1;\r\n                })\r\n                .map(key => {\r\n                  return (\r\n                    <tr key={key}>\r\n                      <td>{key}</td>\r\n                      <td>{this.props.data[key][\"Price\"]}</td>\r\n                      <td>{this.props.data[key][\"Previous close\"]}</td>\r\n                      <td>\r\n                        {Number(this.props.data[key][\"Price\"]) -\r\n                          Number(\r\n                            this.props.data[key][\"Previous close\"].replace(\r\n                              /,/g,\r\n                              \"\"\r\n                            )\r\n                          )}\r\n                      </td>\r\n                      <td\r\n                        className={determineChange(\r\n                          this.props.data[key][\"Price\"],\r\n                          this.props.data[key][\"Previous close\"]\r\n                        )}\r\n                      >\r\n                        {calcChange(\r\n                          this.props.data[key][\"Price\"],\r\n                          this.props.data[key][\"Previous close\"]\r\n                        )}\r\n                        %\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export const isValidPrice = numb => {\r\n  if (isNaN(Number(numb))) return \"Please insert a number\";\r\n  else if (numb < 0) return \"Number cannot be negative\";\r\n  else return \"ok\";\r\n};\r\n\r\nexport const isEmpty = el => {\r\n  if (el === \"\") {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { isValidPrice, isEmpty } from \"./Utils/Checker/Validator\";\r\n\r\nimport \"./css/StockPriceForm.css\";\r\n\r\nexport default class StockPriceForm extends Component {\r\n  state = {\r\n    name: this.props.name,\r\n    priceHigh: \"\",\r\n    priceLow: \"\",\r\n    error: \"\"\r\n  };\r\n\r\n  submit = e => {\r\n    const { priceHigh, priceLow, name } = this.state;\r\n    if (!(isEmpty(priceHigh) && isEmpty(priceLow))) {\r\n      if (isValidPrice(priceHigh) === \"ok\" && isValidPrice(priceLow) === \"ok\") {\r\n        this.props.updateWatchedPrice({\r\n          name,\r\n          priceLow: Number(priceLow),\r\n          priceHigh: Number(priceHigh)\r\n        });\r\n        this.setState({ ...this.state, priceHigh: \"\", priceLow: \"\" });\r\n      } else {\r\n        this.setState({\r\n          ...this.state,\r\n          priceHigh: \"\",\r\n          priceLow: \"\",\r\n          error:\r\n            isValidPrice(priceHigh) === \"ok\"\r\n              ? isValidPrice(priceLow)\r\n              : isValidPrice(priceHigh)\r\n        });\r\n      }\r\n    }\r\n    e.preventDefault();\r\n  };\r\n\r\n  onChange = e => {\r\n    switch (e.target.name) {\r\n      case \"price-high\":\r\n        this.setState({ ...this.state, priceHigh: e.target.value, error: \"\" });\r\n        break;\r\n      case \"price-low\":\r\n        this.setState({ ...this.state, priceLow: e.target.value, error: \"\" });\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n\r\n  deleteWatchedStock = () => {\r\n    this.props.deleteWatchedStock(this.state.name);\r\n  };\r\n\r\n  render() {\r\n    const { name, priceHigh, priceLow } = this.state;\r\n    return (\r\n      <div>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <td colSpan=\"2\">\r\n                {name}{\" \"}\r\n                <span\r\n                  className=\"delete-button\"\r\n                  onClick={this.deleteWatchedStock}\r\n                >\r\n                  Delete\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <label>Price High</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"price-high\"\r\n                  placeholder={this.props.priceHigh}\r\n                  onChange={this.onChange}\r\n                  value={priceHigh}\r\n                ></input>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>Price Low</label>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"price-low\"\r\n                  placeholder={this.props.priceLow}\r\n                  value={priceLow}\r\n                  onChange={this.onChange}\r\n                ></input>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td colSpan=\"2\">\r\n                <button type=\"submit\" onClick={this.submit}>\r\n                  change\r\n                </button>\r\n                {this.state.error ? <span>{this.state.error}</span> : \"\"}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nStockPriceForm.propTypes = {\r\n  name: PropTypes.string,\r\n  priceHigh: PropTypes.number,\r\n  priceLow: PropTypes.number\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AddStockPriceForm extends Component {\r\n  state = {\r\n    addNew: false,\r\n    addNewIndex: \"\",\r\n    error: \"\"\r\n  };\r\n\r\n  showStockIndexForm = () => {\r\n    this.setState({ ...this.state, addNew: true });\r\n  };\r\n\r\n  onSelectChange = e => {\r\n    this.setState({ ...this.state, addNewIndex: e.target.value, error: \"\" });\r\n    console.log(e.target.value);\r\n  };\r\n\r\n  addStockIndexForm = e => {\r\n    e.preventDefault();\r\n    var isExist = false;\r\n    const { addNewIndex } = this.state;\r\n    this.props.watchedStocks.forEach(element => {\r\n      if (element.name === this.state.addNewIndex) {\r\n        isExist = true;\r\n        this.setState({ ...this.state, error: \"Index existed!\" });\r\n      }\r\n    });\r\n    if (!isExist) {\r\n      if (addNewIndex !== \"\") {\r\n        this.setState({\r\n          ...this.state,\r\n          addNew: false\r\n        });\r\n        this.props.updateWatchedStocks({\r\n          name: this.state.addNewIndex,\r\n          priceHigh: 0,\r\n          priceLow: 0\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.addNew ? (\r\n          <form>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <td colSpan=\"2\">Add New Index</td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>\r\n                    <label>Select Index</label>\r\n                  </td>\r\n                  <td>\r\n                    <select\r\n                      onChange={this.onSelectChange}\r\n                      value={this.addNewIndex}\r\n                    >\r\n                      <option></option>\r\n                      {Object.keys(this.props.data).map(el => {\r\n                        return <option key={el}>{el}</option>;\r\n                      })}\r\n                    </select>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <button onClick={this.addStockIndexForm}>add</button>\r\n            {this.state.error ? this.state.error : \"\"}\r\n          </form>\r\n        ) : (\r\n          <button onClick={this.showStockIndexForm}>add</button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport StockPriceForm from \"./StockPriceForm\";\r\nimport AddStockIndexForm from \"./AddStockPriceForm\";\r\n\r\nexport default class WatchBox extends Component {\r\n  state = {\r\n    url: \"https://stock-watcher-backend.herokuapp.com/users/alfredo\",\r\n    watchedStocks: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", this.state.url);\r\n    xhr.send();\r\n    try {\r\n      xhr.addEventListener(\"load\", () => {\r\n        var response = JSON.parse(xhr.response);\r\n        this.setState({\r\n          ...this.state,\r\n          watchedStocks: response.watchedStocks\r\n        });\r\n      });\r\n    } catch {\r\n      console.log(\"error\");\r\n    }\r\n  }\r\n\r\n  updateWatchedStocks = newStock => {\r\n    this.setState(\r\n      {\r\n        ...this.state,\r\n        watchedStocks: [...this.state.watchedStocks, newStock]\r\n      },\r\n      () => {\r\n        this.updateDatabase();\r\n      }\r\n    );\r\n  };\r\n\r\n  updateWatchedPrice = theStock => {\r\n    const oldValue = this.state.watchedStocks.filter(\r\n      el => el.name === theStock.name\r\n    )[0];\r\n    this.setState(\r\n      {\r\n        ...this.state,\r\n        watchedStocks: [\r\n          {\r\n            name: theStock.name,\r\n            priceLow: theStock.priceLow ? theStock.priceLow : oldValue.priceLow,\r\n            priceHigh: theStock.priceHigh\r\n              ? theStock.priceHigh\r\n              : oldValue.priceHigh\r\n          },\r\n          ...this.state.watchedStocks.filter(el => el.name !== theStock.name)\r\n        ]\r\n      },\r\n      () => {\r\n        this.updateDatabase();\r\n      }\r\n    );\r\n  };\r\n\r\n  deleteWatchedStock = name => {\r\n    this.setState(\r\n      {\r\n        ...this.state,\r\n        watchedStocks: this.state.watchedStocks.filter(el => el.name !== name)\r\n      },\r\n      () => {\r\n        this.updateDatabase();\r\n      }\r\n    );\r\n  };\r\n\r\n  updateDatabase = () => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    var myInit = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: JSON.stringify(this.state.watchedStocks)\r\n    };\r\n    const req = new Request(this.state.url, myInit);\r\n    fetch(req);\r\n  };\r\n\r\n  render() {\r\n    const { watchedStocks } = this.state;\r\n    return (\r\n      <div className=\"watch-box\">\r\n        <h1>WATCH BOX</h1>\r\n\r\n        <AddStockIndexForm\r\n          data={this.props.data}\r\n          updateWatchedStocks={this.updateWatchedStocks}\r\n          watchedStocks={this.state.watchedStocks}\r\n        ></AddStockIndexForm>\r\n\r\n        <ul>\r\n          {watchedStocks.map(el => {\r\n            return (\r\n              <li key={el.name}>\r\n                <StockPriceForm\r\n                  deleteWatchedStock={this.deleteWatchedStock}\r\n                  updateWatchedPrice={this.updateWatchedPrice}\r\n                  name={el.name}\r\n                  priceHigh={el.priceHigh}\r\n                  priceLow={el.priceLow}\r\n                ></StockPriceForm>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport InformationBox from \"./components/InformationBox\";\r\nimport WatchBox from \"./components/WatchBox\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    loading: true,\r\n    data: {},\r\n    endpoint: \"https://stock-market-web-scrapper.herokuapp.com/python\",\r\n    updated: true\r\n  };\r\n\r\n  fetchData = new Promise((res, rej) => {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", this.state.endpoint);\r\n    xhr.send();\r\n    try {\r\n      xhr.addEventListener(\"load\", () => {\r\n        if (xhr.status === 200) {\r\n          res({\r\n            data: JSON.parse(xhr.responseText)\r\n          });\r\n        } else {\r\n          rej({ data: \"error\" });\r\n        }\r\n      });\r\n    } catch {\r\n      this.setState({ ...this.state, data: \"error\", loading: false });\r\n    }\r\n  });\r\n\r\n  componentDidMount() {\r\n    this.fetchData\r\n      .then(res => {\r\n        this.setState({ ...this.state, data: res.data, loading: false });\r\n      })\r\n      .catch(res => {\r\n        this.setState({ ...this.state, data: res.data, loading: false });\r\n      });\r\n\r\n    setInterval(() => {\r\n      this.fetchData\r\n        .then(res => {\r\n          this.setState({ ...this.state, data: res.data });\r\n        })\r\n        .catch(res => {\r\n          this.setState({ ...this.state, updated: false });\r\n        });\r\n    }, 5000);\r\n  }\r\n\r\n  render() {\r\n    const { data, loading, updated, watchedStocks } = this.state;\r\n    return (\r\n      <div>\r\n        <InformationBox\r\n          data={data}\r\n          loading={loading}\r\n          updated={updated}\r\n        ></InformationBox>\r\n        <WatchBox data={data} watchedStocks={watchedStocks}></WatchBox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}